# Операторы new и delete в C++

## Описание операторов new и delete

Операторы `new` и `delete` используются в языке C++ для `динамического` выделения и освобождения памяти. Эти операторы позволяют управлять памятью во время выполнения программы.

### Оператор new

Оператор `new` используется для выделения памяти в куче (heap) для переменных или массивов. Он возвращает `указатель на выделенную область памяти`. 

### Оператор delete

Оператор `delete` используется для освобождения памяти, выделенной с помощью оператора `new`. Он `предотвращает утечки памяти,` возвращая память обратно в систему.

## Примеры использования

### Пример 1: Выделение памяти под переменную

```
int main() {
    // Выделение памяти для переменной типа int
    int* pNumber = new int; // Внутри оператора new выделяется память в куче

    // Присваивание значения
    *pNumber = 42;

    // Использование выделенной памяти
    std::cout << "Значение переменной: " << *pNumber << '\n';

    // Освобождение памяти
    delete pNumber; // Внутри оператора delete память освобождается и возвращается системе
    pNumber = nullptr; // Обнуление указателя для предотвращения висячего указателя
}
```

### Пример 2: Выделение памяти под массив

```
int main() {
    // Выделение памяти для массива из 5 целых чисел
    int* pArray = new int[5]; // Внутри оператора new выделяется блок памяти для массива

    // Присваивание значений элементам массива
    for (size_t i = 0; i < 5; ++i) {
        pArray[i] = i * 2;
    }

    // Использование выделенной памяти
    std::cout << "Элементы массива: ";
    for (size_t i = 0; i < 5; ++i) {
        std::cout << pArray[i] << " ";
    }

    // Освобождение памяти
    delete[] pArray; // Используется оператор delete[], чтобы освободить память для массива
    pArray = nullptr; // Обнуление указателя для предотвращения висячего указателя
}
```

## Что происходит внутри операторов new и delete

### Оператор new

1. **Выделение памяти**: Когда вызывается оператор `new`, компилятор запрашивает у операционной системы необходимое количество памяти в куче.
2. **Возвращение указателя**: Если выделение памяти успешно, оператор `new` возвращает указатель на начало выделенной области памяти. Если выделение не удается (например, из-за нехватки памяти), вызывается исключение `std::bad_alloc`.

### Оператор delete

1. **Освобождение памяти**: Когда вызывается оператор `delete`, он передает указатель на выделенную область памяти обратно системе.
2. **Возвращение памяти**: Система освобождает память, делая ее доступной для будущих запросов на выделение.

